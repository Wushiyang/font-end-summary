# 入门

### 模块化

命名空间组织代码问题：

1、命名空间冲突，两个库可能使用同一个名字

2、无法合理管理项目依赖和版本

3、无法方便地控制依赖加载顺序

模块化指将一个复杂系统分解为多个模块以方便管理

#### 模块化解决方案：

##### 1、CommonJS

CommonJS还分CommonJS1和CommonJS2

优点：

代码可复用于Node.js环境运行（同构应用）

Npm发布的很多第三方模块都采用CommonJS规范。

缺点：

无法直接在浏览器运行，要转成ES5

##### 2、AMD

采用异步方式去加载依赖模块，主要用来解决浏览器环境的模块化问题，最具代表性的实现是requirejs

优点：

可直接在浏览器运行

可异步加载依赖

可并行加载多个模块

代码可运行在浏览器环境和NodeJS环境

缺点：

JavaScript运行环境没有原生支持AMD，需要先导入AMD的库才能正常使用。

##### 3、ES6模块化

ECMA提出的Javascript模块化规范

目前无法直接运行在大部分JavaScript运行环境下，必须通过工具转换成标准的ES5才能正常运行

##### 4、样式文件模块化

@import "url"



### 构建工具

##### 构建工具作用：

将源代码转换成可执行的JavaScript、CSS、HTML代码。具体如下

代码转换：将TypeScript编译成JavaScript、将SCSS编译成CSS等。

文件优化：压缩JavaScript、CSS、HTML代码，压缩图片。

代码分割：提取多页面的公共代码。

模块合并：采用模块化的项目里有很多模块和文件，需要构建功能将模块分类合并成一个文件

自动刷新：监听本地源码变化，自动构建、刷新服务器。

代码校验：提交仓库前校验代码是否符合规范，以及单元测试是否通过。

自动发布：更新代码后，自动构建出线上发布代码并传输给发布系统。



##### 构建工具：

1、Npm Scirpt	简单

2、Grunt	全，但配置多

3、Gulp	流，简单，但配置多

4、Fis3	百度国产，不维护了

5、Webpack	一切皆模块，plugin扩展，但只用于模块化 开发

6、Rollup	Tree shaking，Scope Hoisting，类似webpack，功能没webpack完善，打包JavaScript库比文本pack更小





